{% extends 'base.html.twig' %}

{% block content %}
<!-- Main Content -->
<div class="container">
    <h1 class="col-lg-8 col-md-10 mx-auto flex">Mon derniere articles</h1>
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto flex">
            <div class="imgCover">
                <img src="{{ asset('assets/img/cover/'~lastArticle.cover) }}" alt="">
            </div>
            <div class="post-preview">
                <a href="{{ path('post',{'id' : lastArticle.id}) }}">
                    <h2 class="post-title">
                        {{ lastArticle.title }}
                    </h2>
                    <h3 class="post-subtitle">
                        {{ lastArticle.subtitle }}
                    </h3>
                </a>
                <p class="post-meta">Posté par {{ lastArticle.user.username}} le {{ lastArticle.createdAt.date|date("m/d/Y \\à g\\hi") }}</p>
                <p>{{ lastArticle.content |slice(0, 150)|raw}}</p>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
            {% for article in articles %}
            <div class="post-preview">
                <a href="{{ path('post',{'id' : article.id}) }}">
                    <h2 class="post-title">
                        {{ article.title }}
                    </h2>
                    <h3 class="post-subtitle">
                        {{ article.subtitle }}
                    </h3>
                </a>
                <p class="post-meta">Posté par {{ article.user.username}} le {{ article.createdAt.date|date("m/d/Y \\à g\\hi") }}</p>
            </div>
            <hr>
            {% endfor %}

            <!-- Pager -->
            <div class="clearfix">
                <a class="btn btn-primary float-right" href="#">Older Posts &rarr;</a>
            </div>
        </div>
    </div>
</div>

{% endblock %}